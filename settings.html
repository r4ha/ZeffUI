<!DOCTYPE html lang="en">
<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.0/jquery.contextMenu.js"></script>
        <script src="https://kit.fontawesome.com/2a15db2084.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>  
        <script src="data/abilities.js"></script>
        <link href="styles/colors.css" rel="stylesheet" />
        <link href="styles/resources.css" rel="stylesheet" />
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/slate/bootstrap.min.css" rel="stylesheet">
        <script>
            var currentSettings = null;
            var currentFont = {};

            $(function() {
            	$("[id$=Color]").each(function () {
            		setExampleColor(this);
            	});

            	$("[id$=Color]").change(function() {
            		setExampleColor(this);
            	});

            	$("[id$=GrowDirection]").change(function() {
            		setPadding(this);
            	});

            	$("#dotScale").change(function() {
            		setPadding($(`#${$(this).attr("id").replace("Scale", "GrowDirection")}`));
            	});

            	$("#buffScale").change(function() {
            		setPadding($(`#${$(this).attr("id").replace("Scale", "GrowDirection")}`));
            	});

            	loadSettings();
            });

            function setPadding(element){
            	let selector = $(element).attr("id").replace("GrowDirection", "");
            	if($(element).val() <= 2){
            		$(`#${selector}Padding`).val($(`#${selector}Scale`).val() * 20);
            	}else{
            		$(`#${selector}Padding`).val($(`#${selector}Scale`).val() * 180);
            	}
            }

            function setExampleColor(element){
            	let selector = $(element).attr("id").replace("Color", "");
            	if(!selector.startsWith("stacks")){
            		$(`#${selector}Example`).css(`--${selector}Color`, `var(${$(element).val()})`);
            	}else{
            		$(`#${selector}-1`).css(`--${selector}Color`, `var(${$(element).val()})`);
            		$(`#${selector}-2`).css(`--${selector}Color`, `var(${$(element).val()})`);
            		$(`#${selector}-3`).css(`--${selector}Color`, `var(${$(element).val()})`);
            		$(`#${selector}-4`).css(`--${selector}Color`, `var(${$(element).val()})`);
            	}
            }

            function titleCase(string) {
            	return string.toLowerCase().split(" ").map(function(word) {
            		return word.replace(word[0], word[0].toUpperCase());
            	}).join(" ");
            }

            function createColorSelects(){
            	for (let colorFilter of getBarColors()){
            		let color = colorFilter.replace("--filter-", "").replace("-", "");
            		let colorString = language.find(x => x.id === `color${color}`).string;
            		$("[id$=Color]").append(`<option value="${colorFilter}">${titleCase(colorString)}</option>`);
            	}
            }

            function createSkinSelects(){
            	$("#skinSelect").append(`<option value="default">${language.find(x => x.id === "skindefault").string}</option>`);
            	$("#skinSelect").append(`<option value="material-dark">${language.find(x => x.id === "skinmaterialdark").string}</option>`);
            	$("#skinSelect").append(`<option value="material-discord">${language.find(x => x.id === "skinmaterialdiscord").string}</option>`);
            }

            function createFontSelects(){
            	$("#defaultFont").empty();
            	$("#healthFont").empty();
            	$("#manaFont").empty();
            	$("#pulltimerFont").empty();
            	$("#buffFont").empty();
            	$("#dotFont").empty();
            	$("#raidbuffFont").empty();
            	$("#mitigationFont").empty();
            	let fontCheck = new Set([
            		// Windows 10
            		"Arial", "Arial Black", "Bahnschrift", "Calibri", "Cambria", "Cambria Math", "Candara", "Comic Sans MS", "Consolas", "Constantia", "Corbel", "Courier New", "Ebrima", "Franklin Gothic Medium", "Gabriola", "Gadugi", "Georgia", "HoloLens MDL2 Assets", "Impact", "Ink Free", "Javanese Text", "Leelawadee UI", "Lucida Console", "Lucida Sans Unicode", "Malgun Gothic", "Marlett", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Sans Serif", "Microsoft Tai Le", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU-ExtB", "Mongolian Baiti", "MS Gothic", "MV Boli", "Myanmar Text", "Nirmala UI", "Palatino Linotype", "Segoe MDL2 Assets", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Historic", "Segoe UI Emoji", "Segoe UI Symbol", "SimSun", "Sitka", "Sylfaen", "Symbol", "Tahoma", "Times New Roman", "Trebuchet MS", "Verdana", "Webdings", "Wingdings", "Yu Gothic",
            		// macOS
            		"American Typewriter", "Andale Mono", "Arial", "Arial Black", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Avenir", "Avenir Next", "Avenir Next Condensed", "Baskerville", "Big Caslon", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bradley Hand", "Brush Script MT", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charter", "Cochin", "Comic Sans MS", "Copperplate", "Courier", "Courier New", "Didot", "DIN Alternate", "DIN Condensed", "Futura", "Geneva", "Georgia", "Gill Sans", "Helvetica", "Helvetica Neue", "Herculanum", "Hoefler Text", "Impact", "Lucida Grande", "Luminari", "Marker Felt", "Menlo", "Microsoft Sans Serif", "Monaco", "Noteworthy", "Optima", "Palatino", "Papyrus", "Phosphate", "Rockwell", "Savoye LET", "SignPainter", "Skia", "Snell Roundhand", "Tahoma", "Times", "Times New Roman", "Trattatello", "Trebuchet MS", "Verdana", "Zapfino",
            	].sort());

            	(async() => {
            		await document.fonts.ready;
            		for (const font of fontCheck.values()) {
            			if (document.fonts.check(`12px "${font}"`)) {                            
            				$("#defaultFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#healthFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#manaFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#pulltimerFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#buffFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#dotFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#raidbuffFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            				$("#mitigationFont").append(`<option value="${font}" style="font-family:${font}">${font}</option>`);
            			}
            		}
            		$("#defaultFont").val(currentFont.default);
            		$("#healthFont").val(currentFont.health);
            		$("#manaFont").val(currentFont.mana);
            		$("#pulltimerFont").val(currentFont.pulltimer);
            		$("#buffFont").val(currentFont.buff);
            		$("#dotFont").val(currentFont.dot);
            		$("#raidbuffFont").val(currentFont.raidbuff);
            		$("#mitigationFont").val(currentFont.mitigation);
            	})();
            }
			
            function createOverrideSelects(){
            	for (let ability of abilityList){
            		let override = currentSettings.override.abilities.find(x => x.id == ability.id);
            		$("#overrideSelect").append(`<option value="${ability.id}">${override != null ? "[Override] " : "" }${ability.job}: ${ability.name} (${ability.type})</option>`);
            	}
            	loadAbility();
            	toggleOverride();
            }

            function processLanguage(){
            	$("[id^=lang_]").each(function() {
            		let id = $(this).attr("id").split("_")[1];
            		let object = language.find(x => x.id === id);
            		if(object != null){
            			let string = language.find(x => x.id === id).string;
            			$(this).text(string);
            		}else{
            			console.log(`Missing translation for ${id}`);
            		}
            	});
            }

            function toggleOverride(){
            	let checked = $("#abilityOverrideEnabled").is(":checked");
            	let id = $("#overrideSelect").val();
            	let override = currentSettings.override.abilities.find(x => x.id == id);
            	
            	if(checked){
            		$("#abilityEnabled").removeAttr("disabled");
            		$("#abilityColor").removeAttr("disabled");
            		$("#abilityDuration").removeAttr("disabled");
            		$("#abilityCooldown").removeAttr("disabled");
            		if (override == null) currentSettings.override.abilities.push(abilityList.find(x => x.id == id));
            	}else{
            		$("#abilityEnabled").attr("disabled","disabled");
            		$("#abilityColor").attr("disabled","disabled");
            		$("#abilityDuration").attr("disabled","disabled");
            		$("#abilityCooldown").attr("disabled","disabled");
            		currentSettings.override.abilities = currentSettings.override.abilities.filter(x => x.id != id);
            	}
            }

            function saveOverride(type){
            	let id = $("#overrideSelect").val();
            	switch(type){
            	case "color":
            		currentSettings.override.abilities.find(x => x.id == id).color = $("#abilityColor").val();
            		break;
            	case "enabled":
            		currentSettings.override.abilities.find(x => x.id == id).enabled = $("#abilityEnabled").is(":checked");
            		break;
            	case "cooldown":
            		currentSettings.override.abilities.find(x => x.id == id).cooldown = $("#abilityCooldown").val();
            		break;
            	case "duration":
            		currentSettings.override.abilities.find(x => x.id == id).duration = $("#abilityDuration").val();
            		break;
            	}
            }

            function loadAbility(){
            	let id = $("#overrideSelect").val();
            	let ability = abilityList.find(x => x.id == id);
            	let override = currentSettings.override.abilities.find(x => x.id == id);
            	if (override != null) ability = override;
            	$("#abilityEnabled").prop("checked", ability.enabled);
            	$("#abilityOverrideEnabled").prop("checked", override != null);
            	switch(ability.type){
            	case "Buff":
            		$("#abilityColorDiv").show();
            		$("#abilityColor").val(ability.color);
            		$("#abilityDurationDiv").hide();
            		$("#abilityCooldownDiv").hide();
            		break;
            	case "DoT":
            		$("#abilityColorDiv").show();
            		$("#abilityColor").val(ability.color);
            		$("#abilityDurationDiv").hide();
            		$("#abilityCooldownDiv").hide();
            		break;
            	case "Stacks":
            		$("#abilityColorDiv").show();
            		$("#abilityColor").val(ability.color);
            		$("#abilityDurationDiv").hide();
            		$("#abilityCooldownDiv").hide();
            		break;
            	case "StackSpender":
            		$("#abilityColorDiv").hide();
            		$("#abilityDurationDiv").hide();
            		$("#abilityCooldownDiv").hide();
            		break;
            	case "RaidBuff":
            		$("#abilityColorDiv").hide();
            		$("#abilityDurationDiv").show();
            	    $("#abilityDuration").val(ability.duration);
            		$("#abilityCooldownDiv").show();
            	    $("#abilityCooldown").val(ability.cooldown);
            		break;
            	case "Mitigation":
            		$("#abilityColorDiv").hide();
            		$("#abilityDurationDiv").show();
            	    $("#abilityDuration").val(ability.duration);
            		$("#abilityCooldownDiv").show();
            	    $("#abilityCooldown").val(ability.cooldown);
            		break;
            	}
            	toggleOverride();
            }

            function loadSkin(){
            	$("#skin").attr("href", `skins/${$("#skinSelect").val()}/styles/resources.css`);
            }

            function loadFont(type){                
            	currentFont[type] = $(`#${type}Font`).val();
            	switch(type){
            	case "default":
            		$("*").css("font-family", currentFont.default);
            		break;
            	case "health":
            		$("#healthExample").attr("style", `font-family: ${currentFont.health}`);
            		break;
            	case "mana":
            		$("#manaExample").attr("style", `font-family: ${currentFont.mana}`);
            		break;
            	case "pulltimer":
            		$("#pulltimerExample").attr("style", `font-family: ${currentFont.pulltimer}`);
            		break;
            	}
            	createFontSelects();
            }

            function loadLanguage(){
            	$("#language").attr("src", `data/language/${$("#langSelect").val()}.js`);
            	saveSettings(false);
            }

            function getBarColors(){
            	let colorArray = Array.from(
            		document.styleSheets).filter(sheet => sheet.href === null || sheet.href.startsWith(window.location.origin))
            		.reduce((acc, sheet) => (acc = [...acc, ...Array.from(sheet.cssRules).reduce((def, rule) => (def = rule.selectorText === ":root" ? [...def, ...Array.from(rule.style).filter(name => name.startsWith("--"))]: def), [])]), []
            		);
            	return colorArray;
            }

            function applyDefaultFont(){
            	for(let type in currentFont) {
            		console.log(type);
            		currentFont[type] = $("#defaultFont").val();
            		$(`#${type}Font`).val(currentFont[type]);
            	}
            }

            function loadSettings(){
            	if(localStorage.getItem("settings") !== null){
            		let settings = JSON.parse(localStorage.getItem("settings"));
            		currentSettings = settings;
                    
            		currentFont.default = settings.font;
            		currentFont.health = settings.healthbar.font;
            		currentFont.mana = settings.manabar.font;
            		currentFont.pulltimer = settings.timerbar.font;
            		currentFont.buff = settings.bufftimerbar.font;
            		currentFont.dot = settings.dottimerbar.font;
            		currentFont.raidbuff = settings.raidbuffs.font;
            		currentFont.mitigation = settings.mitigation.font;

            		if($("#skin").length == 0){
            			$("head").append(`<link id="skin" rel="stylesheet" href="skins/${settings.skin}/styles/resources.css">`);
            		}else{
            			$("#skin").attr("href", `skins/${settings.skin}/styles/resources.css`);
            		}

            		if($("#language").length == 0){
            			// eslint-disable-next-line no-useless-escape
            			$("head").append(`<script src="data/language/${settings.language}.js"><\/script>`);
            		}else{
            			$("#language").attr("src", `data/language/${settings.language}.js`);
            		}
                    
            		
                    
            		processLanguage();
            		createColorSelects();
            		createSkinSelects();
            		createFontSelects();
            		createOverrideSelects();

            		$("#skinSelect").val(settings.skin);
            		$("#langSelect").val(settings.language);

            		$("#healthBarEnabled").prop("checked", settings.healthbar.enabled);
            		$("#healthHideOutOfCombat").prop("checked", settings.healthbar.hideoutofcombat);
            		$("#healthTextEnabled").prop("checked", settings.healthbar.textenabled);
            		$("#healthColor").val(settings.healthbar.color);
            		setExampleColor($("#healthColor"));
            		$("#healthScale").attr("value", settings.healthbar.scale);
            		$("#healthX").attr("value", settings.healthbar.x);
            		$("#healthY").attr("value", settings.healthbar.y);
                    
            		$("#manaBarEnabled").prop("checked", settings.manabar.enabled);
            		$("#manaHideOutOfCombat").prop("checked", settings.manabar.hideoutofcombat);
            		$("#manaTextEnabled").prop("checked", settings.manabar.textenabled);
            		$("#manaColor").val(settings.manabar.color);
            		setExampleColor($("#manaColor"));
            		$("#manaScale").attr("value", settings.manabar.scale);
            		$("#manaX").attr("value", settings.manabar.x);
            		$("#manaY").attr("value", settings.manabar.y);

            		$("#pulltimerBarEnabled").prop("checked", settings.timerbar.enabled);
            		$("#pulltimerTextEnabled").prop("checked", settings.timerbar.textenabled);
            		$("#pulltimerColor").val(settings.timerbar.color);
            		setExampleColor($("#pulltimerColor"));
            		$("#pulltimerScale").attr("value", settings.timerbar.scale);
            		$("#pulltimerX").attr("value", settings.timerbar.x);
            		$("#pulltimerY").attr("value", settings.timerbar.y);

            		$("#dotBarEnabled").prop("checked", settings.dottimerbar.enabled);
            		$("#dotHideOutOfCombat").prop("checked", settings.dottimerbar.hideoutofcombat);
            		$("#dotHideWhenDroppedOff").prop("checked", settings.dottimerbar.hidewhendroppedoff);
            		$("#dotTextEnabled").prop("checked", settings.dottimerbar.textenabled);
            		$("#multiDotEnabled").prop("checked", settings.dottimerbar.multidotenabled);
            		$("#dotImageEnabled").prop("checked", settings.dottimerbar.imageenabled);
            		$("#dotGrowDirection").val(settings.dottimerbar.growdirection);
            		$("#dotPadding").attr("value", settings.dottimerbar.padding);
            		$("#dotScale").attr("value", settings.dottimerbar.scale);
            		$("#dotX").attr("value", settings.dottimerbar.x);
            		$("#dotY").attr("value", settings.dottimerbar.y);
                    
            		$("#buffBarEnabled").prop("checked", settings.bufftimerbar.enabled);
            		$("#buffHideOutOfCombat").prop("checked", settings.bufftimerbar.hideoutofcombat);
            		$("#buffHideWhenDroppedOff").prop("checked", settings.bufftimerbar.hidewhendroppedoff);
            		$("#buffTextEnabled").prop("checked", settings.bufftimerbar.textenabled);
            		$("#buffImageEnabled").prop("checked", settings.bufftimerbar.imageenabled);
            		$("#buffGrowDirection").val(settings.bufftimerbar.growdirection);
            		$("#buffPadding").attr("value", settings.bufftimerbar.padding);
            		$("#buffScale").attr("value", settings.bufftimerbar.scale);
            		$("#buffX").attr("value", settings.bufftimerbar.x);
            		$("#buffY").attr("value", settings.bufftimerbar.y);

            		$("#stacksBarEnabled").prop("checked", settings.stacksbar.enabled);
            		$("#stacksHideOutOfCombat").prop("checked", settings.stacksbar.hideoutofcombat);
            		$("#stacksColor").val(settings.stacksbar.color);
            		setExampleColor($("#stacksColor"));
            		$("#stacksScale").attr("value", settings.stacksbar.scale);
            		$("#stacksX").attr("value", settings.stacksbar.x);
            		$("#stacksY").attr("value", settings.stacksbar.y);

            		$("#raidbuffBarEnabled").prop("checked", settings.raidbuffs.enabled);
            		$("#raidbuffHideOutOfCombat").prop("checked", settings.raidbuffs.hideoutofcombat);
            		$("#raidbuffHideWhenSolo").prop("checked", settings.raidbuffs.hidewhensolo);
            		$("#raidbuffAlwaysShow").prop("checked", settings.raidbuffs.alwaysshow);
            		$("#raidbuffGrowLeft").prop("checked", settings.raidbuffs.growleft);
            		$("#raidbuffColumns").attr("value", settings.raidbuffs.columns);
            		$("#raidbuffPadding").attr("value", settings.raidbuffs.padding);
            		$("#raidbuffScale").attr("value", settings.raidbuffs.scale);
            		$("#raidbuffX").attr("value", settings.raidbuffs.x);
            		$("#raidbuffY").attr("value", settings.raidbuffs.y);
                    
            		$("#mitigationBarEnabled").prop("checked", settings.mitigation.enabled);
            		$("#mitigationHideOutOfCombat").prop("checked", settings.mitigation.hideoutofcombat);
            		$("#mitigationHideWhenSolo").prop("checked", settings.mitigation.hidewhensolo);
            		$("#mitigationAlwaysShow").prop("checked", settings.mitigation.alwaysshow);
            		$("#mitigationGrowLeft").prop("checked", settings.mitigation.growleft);
            		$("#mitigationColumns").attr("value", settings.mitigation.columns);
            		$("#mitigationPadding").attr("value", settings.mitigation.padding);
            		$("#mitigationScale").attr("value", settings.mitigation.scale);
            		$("#mitigationX").attr("value", settings.mitigation.x);
            		$("#mitigationY").attr("value", settings.mitigation.y);
            	}
            }

            function saveSettings(closeWindow = true){
            	let settings = {
            		skin: $("#skinSelect").val(),
            		language: $("#langSelect").val(),
            		font: $("#defaultFont").val(),
            		override: currentSettings.override,
            		healthbar: {
            			enabled: $("#healthBarEnabled").is(":checked"),
            			hideoutofcombat: $("#healthHideOutOfCombat").is(":checked"),
            			textenabled: $("#healthTextEnabled").is(":checked"),
            			color: $("#healthColor").val(),
            			scale: $("#healthScale").val(),
            			x: $("#healthX").val(),
            			y: $("#healthY").val(),
            			font: $("#healthFont").val()
            		},
            		manabar: {
            			enabled: $("#manaBarEnabled").is(":checked"),
            			hideoutofcombat: $("#manaHideOutOfCombat").is(":checked"),
            			textenabled: $("#manaTextEnabled").is(":checked"),
            			color: $("#manaColor").val(),
            			scale: $("#manaScale").val(),
            			x: $("#manaX").val(),
            			y: $("#manaY").val(),
            			font: $("#manaFont").val()
            		},
            		timerbar: {
            			enabled: $("#pulltimerBarEnabled").is(":checked"),
            			textenabled: $("#pulltimerTextEnabled").is(":checked"),
            			color: $("#pulltimerColor").val(),
            			scale: $("#pulltimerScale").val(),
            			x: $("#pulltimerX").val(),
            			y: $("#pulltimerY").val(),
            			font: $("#pulltimerFont").val()
            		},
            		dottimerbar: {
            			enabled: $("#dotBarEnabled").is(":checked"),
            			hideoutofcombat: $("#dotHideOutOfCombat").is(":checked"),
            			hidewhendroppedoff: $("#dotHideWhenDroppedOff").is(":checked"),
            			textenabled: $("#dotBarTextEnabled").is(":checked"),
            			imageenabled: $("#dotImageEnabled").is(":checked"),
            			multidotenabled: $("#multiDotEnabled").is(":checked"),
            			growdirection: $("#dotGrowDirection").val(),
            			padding: $("#dotPadding").val(),
            			scale: $("#dotScale").val(),
            			x: $("#dotX").val(),
            			y: $("#dotY").val(),
            			font: $("#dotFont").val()
            		},
            		bufftimerbar: {
            			enabled: $("#buffBarEnabled").is(":checked"),
            			hideoutofcombat: $("#buffHideOutOfCombat").is(":checked"),
            			hidewhendroppedoff: $("#buffHideWhenDroppedOff").is(":checked"),
            			textenabled: $("#buffBarTextEnabled").is(":checked"),
            			imageenabled: $("#buffImageEnabled").is(":checked"),
            			growdirection: $("#buffGrowDirection").val(),
            			padding: $("#buffPadding").val(),
            			scale: $("#buffScale").val(),
            			x: $("#buffX").val(),
            			y: $("#buffY").val(),
            			font: $("#buffFont").val()
            		},
            		stacksbar: {
            			enabled: $("#stacksBarEnabled").is(":checked"),
            			hideoutofcombat: $("#stacksHideOutOfCombat").is(":checked"),
            			color: $("#stacksColor").val(),
            			scale: $("#stacksScale").val(),
            			x: $("#stacksX").val(),
            			y: $("#stacksY").val()
            		},
            		raidbuffs: {
            			enabled: $("#raidbuffBarEnabled").is(":checked"),
            			hideoutofcombat: $("#raidbuffHideOutOfCombat").is(":checked"),
            			hidewhensolo: $("#raidbuffHideWhenSolo").is(":checked"),
            			alwaysshow: $("#raidbuffAlwaysShow").is(":checked"),
            			growleft: $("#raidbuffGrowLeft").is(":checked"),
            			columns: $("#raidbuffColumns").val(),
            			padding: $("#raidbuffPadding").val(),
            			scale: $("#raidbuffScale").val(),
            			x: $("#raidbuffX").val(),
            			y: $("#raidbuffY").val(),
            			font: $("#raidbuffFont").val()
            		},
            		mitigation: {
            			enabled: $("#mitigationBarEnabled").is(":checked"),
            			hideoutofcombat: $("#mitigationHideOutOfCombat").is(":checked"),
            			hidewhensolo: $("#mitigationHideWhenSolo").is(":checked"),
            			alwaysshow: $("#mitigationAlwaysShow").is(":checked"),
            			growleft: $("#mitigationGrowLeft").is(":checked"),
            			columns: $("#mitigationColumns").val(),
            			padding: $("#mitigationPadding").val(),
            			scale: $("#mitigationScale").val(),
            			x: $("#mitigationX").val(),
            			y: $("#mitigationY").val(),
            			font: $("#mitigationFont").val()
            		},
            	};
            	localStorage.setItem("settings", JSON.stringify(settings));
            	if(closeWindow)	
            		window.close();
            	else
            		location.reload();
            }

            function deleteSettings(){
            	if(confirm("Are you sure you want to delete all settings?")){
            		localStorage.clear();
            		alert("Please reload overlay to finish clearing the settings and to receive the default settings.");
            		window.close();
            	}
            }
        </script>
        <style>
            #healthExample::-webkit-progress-value {
                filter: var(--healthColor);
            }
            #manaExample::-webkit-progress-value {
                filter: var(--manaColor);
            }
            #pulltimerExample::-webkit-progress-value {
                filter: var(--pulltimerColor);
            }
        </style>
        <title>ZeffUI Settings</title>
    </head>
    <body>
        <div class="container">
            <br />
            <div class="row">
                <div class="col-lg-12">
                    <div class="page-header">
                        <h1 id="lang_settingsheader">Settings</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <br />
            </div>            
            <div class="row">
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div id="lang_generaloptions" class="card-header">
                            General Options
                        </div>
                        <div class="card-body">
                            <p id="lang_generaldescription" class="card-text">Here you can find general options for ZeffUI.</p>
                            <div class="form-group row text-right">
                                <label id="lang_language" class="control-label col-sm-4" for="langSelect">Language</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="langSelect" onchange="loadLanguage()">                                        
                                        <option selected="" value="en">English (default)</option>
                                        <option value="de">Deutsch</option>
                                        <option value="fr">Français</option>
                                        <option value="jp">日本語</option>
                                        <option value="cn">普通话</option>
                                        <option value="kr">한국어</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_skin" class="control-label col-sm-4" for="skinSelect">Skin</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="skinSelect" onchange="loadSkin()">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="defaultFont">Default Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="defaultFont" onchange="loadFont('default')">
                                    </select>                                    
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="font_applytoallelements" class="control-label col-sm-4" for="font_applytoallelements"></label>
                                <div class="col-sm-6"><button id="font_applytoallelements" type="button" class="btn btn-primary btn-sm" onclick="applyDefaultFont()">Apply default font to all elements</button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <br />
            </div>  
            <div class="row">
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="healthBarEnabled" checked="">
                                <label id="lang_healthbar" class="custom-control-label" for="healthBarEnabled">Healthbar</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="lang_healthbardescription" class="card-text">Here you can set your options for your healthbar.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx" class="control-label col-sm-4" for="healthX">Position X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="healthX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy" class="col-sm-4" for="healthY">Position Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="healthY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale" class="col-sm-4" for="healthScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="healthScale">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="healthHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat" class="custom-control-label" for="healthHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="healthTextEnabled" checked="">
                                    <label id="lang_healthtext" class="custom-control-label" for="healthTextEnabled">Health Text</label>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_textformat" class="control-label col-sm-4" for="healthFormat">Text Format</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control form-control-sm" placeholder="Default input" id="healthFormat">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="healthFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="healthFont" onchange="loadFont('health')">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_color" class="control-label col-sm-4" for="healthColor">Color</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="healthColor">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row">
                                <label id="lang_example" class="control-label col-sm-4 text-right" for="healthExample">Example</label>
                                &nbsp;&nbsp;&nbsp;<progress width="154" height="15" id="healthExample" class="styled-bar" value="5000" max="10000" data-label="5000 / 10000"></progress>
                            </div>                            
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="manaBarEnabled" checked="">
                                <label id="lang_manabar" class="custom-control-label" for="manaBarEnabled">Manabar</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="lang_manabardescription" class="card-text">Here you can set your options for your manabar.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_1" class="control-label col-sm-4" for="manaX">Position X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="manaX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_1" class="col-sm-4" for="manaY">Position Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="manaY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_1" class="col-sm-4" for="manaScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="manaScale">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="manaHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat_1" class="custom-control-label" for="manaHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="manaTextEnabled" checked="">
                                    <label id="lang_manatext" class="custom-control-label" for="manaTextEnabled">Mana Text</label>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_textformat_1" class="control-label col-sm-4" for="manaFormat">Text Format</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control form-control-sm" placeholder="Default input" id="manaFormat">
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="manaFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="manaFont" onchange="loadFont('mana')">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_color_1" class="control-label col-sm-4" for="manaColor">Color</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="manaColor" >
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row">
                                <label id="lang_example_1" class="control-label col-sm-4 text-right" for="manaExample">Example</label>
                                &nbsp;&nbsp;&nbsp;<progress width="154" height="15" id="manaExample" class="styled-bar" value="5000" max="10000" data-label="5000 / 10000"></progress>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="buffBarEnabled" checked="">
                                <label id="lang_bufftimers" class="custom-control-label" for="buffBarEnabled">Buff Timers</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="lang_bufftimersdescription" class="card-text">Here you can set your options for your personal buffs.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_2" class="control-label col-sm-4" for="buffX">Position Anchor X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="buffX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_2" class="col-sm-4" for="buffY">Position Anchor Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="buffY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_2" class="col-sm-4" for="buffScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="buffScale">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_growdirection" class="control-label col-sm-4" for="buffGrowDirection">Grow Direction</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="buffGrowDirection">
                                        <option id="lang_down" selected="" value="1">Down</option>
                                        <option id="lang_up" value="2">Up</option>
                                        <option id="lang_left" value="3">Left</option>
                                        <option id="lang_right" value="3">Right</option>
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_padding" class="col-sm-4" for="buffPadding">Padding</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="buffPadding">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="buffImageEnabled" checked="false">
                                    <label id="lang_image" class="custom-control-label" for="buffImageEnabled">Image</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="buffHideWhenDroppedOff" checked="">
                                    <label id="lang_droppedoff" class="custom-control-label" for="buffHideWhenDroppedOff">Hide when dropped off</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="buffHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat_2" class="custom-control-label" for="buffHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="buffTextEnabled" checked="">
                                    <label id="lang_bufftext" class="custom-control-label" for="buffTextEnabled">Buff Text</label>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_textformat_2" class="control-label col-sm-4" for="buffFormat">Text Format</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control form-control-sm" placeholder="Default input" id="buffFormat">
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="buffFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="buffFont">
                                    </select>
                                </div>                                    
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="dotBarEnabled" checked="">
                                <label id="lang_dottimers" class="custom-control-label" for="dotBarEnabled">DoT Timers</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="lang_dottimersdescription" class="card-text">Here you can set your options for your personal debuffs.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_3" class="control-label col-sm-4" for="dotX">Position Anchor X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="dotX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_3" class="col-sm-4" for="dotY">Position Anchor Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="dotY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_3" class="col-sm-4" for="dotScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="dotScale">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_growdirection_1" class="control-label col-sm-4" for="dotGrowDirection">Grow Direction</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="dotGrowDirection">
                                        <option id="lang_down_1" selected="" value="1">Down</option>
                                        <option id="lang_up_1" value="2">Up</option>
                                        <option id="lang_left_1" value="3">Left</option>
                                        <option id="lang_right_1" value="3">Right</option>
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_padding_1" class="col-sm-4" for="dotPadding">Padding</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="dotPadding">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="dotImageEnabled">
                                    <label id="lang_image_1" class="custom-control-label" for="dotImageEnabled">Image</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="multiDotEnabled">
                                    <label id="lang_multidot" class="custom-control-label" for="multiDotEnabled">MultiDoT (not implemented yet)</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="dotHideWhenDroppedOff" checked="">
                                    <label id="lang_droppedoff_1" class="custom-control-label" for="dotHideWhenDroppedOff">Hide when dropped off</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="dotHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat_3" class="custom-control-label" for="dotHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="dotTextEnabled" checked="">
                                    <label id="lang_dottext" class="custom-control-label" for="dotTextEnabled">DoT Text</label>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_textformat_3" class="control-label col-sm-4" for="dotFormat">Text Format</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control form-control-sm" placeholder="Default input" id="dotFormat">
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="dotFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="dotFont">
                                    </select>
                                </div>                                    
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="pulltimerBarEnabled" checked="">
                                <label id="lang_pulltimers" class="custom-control-label" for="pulltimerBarEnabled">Pulltimers</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p class="card-text">Here you can set your options for the pulltimer.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_4" class="control-label col-sm-4" for="pulltimerX">Position X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="pulltimerX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_4" class="col-sm-4" for="pulltimerY">Position Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="pulltimerY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_4" class="col-sm-4" for="pulltimerScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="pulltimerScale">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="pulltimerTextEnabled" checked="">
                                    <label id="lang_pulltimertext" class="custom-control-label" for="pulltimerTextEnabled">Pulltimer Text</label>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_textformat_4" class="control-label col-sm-4" for="pulltimerFormat">Text Format</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control form-control-sm" placeholder="Default input" id="pulltimerFormat">
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="pulltimerFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="pulltimerFont" onchange="loadFont('pulltimer')">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_color_2" class="control-label col-sm-4" for="pulltimerColor">Color</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="pulltimerColor" >
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row">
                                <label id="lang_example_2" class="control-label col-sm-4 text-right" for="pulltimerExample">Example</label>
                                &nbsp;&nbsp;&nbsp;<progress width="154" height="15" id="pulltimerExample" class="styled-bar" value="5800" max="10000" data-label="5.8"></progress>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="stacksBarEnabled" checked="">
                                <label id="lang_stacksbar" class="custom-control-label" for="stacksBarEnabled">Stacks Bar</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="stacksbardescription" class="card-text">Here you can set your options for your personal stacks.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_5" class="control-label col-sm-4" for="stacksX">Position X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="stacksX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_5" class="col-sm-4" for="stacksY">Position Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="stacksY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_5" class="col-sm-4" for="stacksScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="stacksScale">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="stacksHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat_4" class="custom-control-label" for="stacksHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_color_3" class="control-label col-sm-4" for="stacksColor">Color</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="stacksColor">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group row">
                                <label id="lang_example_3" class="control-label col-sm-4 text-right" for="stacksExample">Example</label>
                                &nbsp;&nbsp;&nbsp;
                                <div id="stacksExample" data-label="Job Stacks Anchor" style="padding-left: 10px">
                                    <div class="stack-background"><img id="stacks-1" class="stack-color" src="skins/default/images/arrow-fill.png" /></div>
                                    <div class="stack-background"><img id="stacks-2" class="stack-color" src="skins/default/images/arrow-fill.png" /></div>
                                    <div class="stack-background"><img id="stacks-3" class="stack-color" src="skins/default/images/arrow-fill-empty.png" /></div>
                                    <div class="stack-background"><img id="stacks-4" class="stack-color" src="skins/default/images/arrow-fill-empty.png" /></div>
                                </div>
                            </div>                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="raidbuffBarEnabled" checked="">
                                <label id="lang_raidbuffs" class="custom-control-label" for="raidbuffBarEnabled">Raidbuffs</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="lang_raidbuffdescription" class="card-text">Here you can set your options for the raidbuffs (DPS Buffs/Debuffs only).</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_6" class="control-label col-sm-4" for="raidbuffX">Position X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="raidbuffX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_6" class="col-sm-4" for="raidbuffY">Position Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="raidbuffY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_padding_2" class="col-sm-4" for="raidbuffPadding">Padding</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="raidbuffPadding">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_6" class="col-sm-4" for="raidbuffScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="raidbuffScale">
                                </div>
                            </div>                            
                            <div class="form-group row text-right">
                                <label id="lang_columns" class="col-sm-4" for="raidbuffColumns">Columns per row</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="raidbuffColumns">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="raidbuffFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="raidbuffFont">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="raidbuffGrowLeft" checked="">
                                    <label id="lang_growleft" class="custom-control-label" for="raidbuffGrowLeft">Grow icons to the left</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="raidbuffHideWhenSolo" checked="">
                                    <label id="lang_hidesolo" class="custom-control-label" for="raidbuffHideWhenSolo">Hide when not in Party</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="raidbuffHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat_5" class="custom-control-label" for="raidbuffHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="raidbuffAlwaysShow" checked="">
                                    <label id="lang_alwaysshow" class="custom-control-label" for="raidbuffAlwaysShow">Always show abilities (when not on cooldown)</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="mitigationBarEnabled" checked="">
                                <label id="lang_mitigations" class="custom-control-label" for="mitigationBarEnabled">Mitigations</label>
                            </div>
                        </div>
                        <div class="card-body">
                            <p id="lang_mitigationdescription" class="card-text">Here you can set your options for your mitigation bar.</p>
                            <div class="form-group row text-right">
                                <label id="lang_posx_7" class="control-label col-sm-4" for="mitigationX">Position X</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="mitigationX">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_posy_7" class="col-sm-4" for="mitigationY">Position Y</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="mitigationY">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_padding_3" class="col-sm-4" for="mitigationPadding">Padding</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="mitigationPadding">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_scale_7" class="col-sm-4" for="mitigationScale">Scale</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.1" class="form-control form-control-sm" placeholder="Default input" id="mitigationScale">
                                </div>
                            </div>                            
                            <div class="form-group row text-right">
                                <label id="lang_columns_1" class="col-sm-4" for="mitigationColumns">Columns per row</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="mitigationColumns">
                                </div>
                            </div>
                            <div class="form-group row text-right">
                                <label id="lang_font" class="control-label col-sm-4" for="mitigationFont">Font</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="mitigationFont">
                                    </select>
                                </div>                                    
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="mitigationGrowLeft" checked="">
                                    <label id="lang_growleft_1" class="custom-control-label" for="mitigationGrowLeft">Grow abilities to the left</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="mitigationHideWhenSolo" checked="">
                                    <label id="lang_hidesolo_1" class="custom-control-label" for="mitigationHideWhenSolo">Hide when not in Party</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="mitigationHideOutOfCombat" checked="">
                                    <label id="lang_hideoutofcombat_6" class="custom-control-label" for="mitigationHideOutOfCombat">Hide out of Combat</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="mitigationAlwaysShow" checked="">
                                    <label id="lang_alwaysshow_1" class="custom-control-label" for="mitigationAlwaysShow">Always show abilities (when not on cooldown)</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
			<div class="row">
                <div class="col-lg-6">
                    <div class="card text-white bg-dark mb-3" style="max-width: 40rem;">
                        <div id="lang_overrideoptions" class="card-header">
                            Override Options
                        </div>
                        <div class="card-body">
                            <p id="lang_overridedescription" class="card-text">Here you can change specific default settings for all abilities.</p>
                            <div class="form-group row text-right">
                                <label id="lang_ability" class="control-label col-sm-4" for="overrideSelect">Ability</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="overrideSelect" onchange="loadAbility()">                                        
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="abilityOverrideEnabled" checked="" onchange="toggleOverride()">
                                    <label id="lang_overridedefaults" class="custom-control-label" for="abilityOverrideEnabled">Override Defaults</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="abilityEnabled" checked="" onchange="saveOverride('enabled')">
                                    <label id="lang_abilityenabled" class="custom-control-label" for="abilityEnabled">Ability Enabled</label>
                                </div>
                            </div>
                            <div id="abilityColorDiv" class="form-group row text-right">
                                <label id="lang_color_4" class="control-label col-sm-4" for="abilityColor">Color</label>
                                <div class="col-sm-6">
                                    <select class="form-control form-control-sm" id="abilityColor" onchange="saveOverride('color')">
                                    </select>
                                </div>
                            </div>
                            <div id="abilityDurationDiv" class="form-group row text-right">
                                <label id="lang_duration" class="control-label col-sm-4" for="abilityDuration">Duration</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="abilityDuration" onchange="saveOverride('duration')">
                                </div>
                            </div>
                            <div id="abilityCooldownDiv" class="form-group row text-right">
                                <label id="lang_cooldown" class="control-label col-sm-4" for="abilityCooldown">Cooldown</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control form-control-sm" placeholder="Default input" id="abilityCooldown" onchange="saveOverride('cooldown')">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-2">
                    <button id="lang_savesettings" type="button" class="btn btn-primary btn-lg" onclick="saveSettings()">Save Settings</button>
                </div>
                <div class="col-lg-3">
                    <button id="lang_deletesettings" type="button" class="btn btn-primary btn-lg" onclick="deleteSettings()">Delete All Settings</button>
                </div>
            </div>
            <div class="row">
                <br />
            </div>
        </div>
    </body>
</html>